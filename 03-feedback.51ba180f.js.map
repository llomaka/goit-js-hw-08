{"version":3,"sources":["js/03-feedback.js"],"names":["refs","form","document","querySelector","email","forms","message","STORAGE_KEY","populateInputs","savedObject","localStorage","getItem","parsedSavedObject","JSON","parse","Object","keys","length","value","undefined","saveInterimInStorage","event","storageParams","currentTarget","name","trim","setItem","stringify","onFormSubmit","preventDefault","removeItem","console","log","reset","addEventListener"],"mappings":";AACA,MAAMA,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASG,MAAM,GAAGD,MACzBE,QAASJ,SAASG,MAAM,GAAGC,SAEvBC,EAAc,sBACdC,EAAiB,WACfC,MAAAA,EAAcC,aAAaC,QAAQJ,GACrCE,GAAAA,EAAa,CACTG,MAAAA,EAAoBC,KAAKC,MAAML,GACjCM,GAA0C,IAA1CA,OAAOC,KAAKJ,GAAmBK,OAGjC,OAFAjB,EAAKI,MAAMc,MAAQN,EAAkBR,WACrCJ,EAAKM,QAAQY,MAAQN,EAAkBN,SAElC,QAAgCa,IAA5BP,EAAkBR,MAE3B,YADAJ,EAAKI,MAAMc,MAAQN,EAAkBR,OAEhC,QAAkCe,IAA9BP,EAAkBN,QAE3B,YADAN,EAAKM,QAAQY,MAAQN,EAAkBN,WAK7CE,IAEA,MAAMY,EAAuBC,IACrBC,MAAAA,EAAgB,GACW,UAA7BD,EAAME,cAAcC,KACxBF,EAAclB,MAAQiB,EAAME,cAAcL,MAAMO,OAEhDH,EAAchB,QAAUe,EAAME,cAAcL,MAAMO,OAElDf,aAAagB,QAAQnB,EAAaM,KAAKc,UAAUL,KAE7CM,EAAeP,IACnBA,EAAMQ,iBACNnB,aAAaoB,WAAWvB,GACxBwB,QAAQC,IAAI,2BACZX,EAAME,cAAcU,SAEtBjC,EAAKI,MAAM8B,iBAAiB,QAASd,GACrCpB,EAAKM,QAAQ4B,iBAAiB,QAASd,GACvCpB,EAAKC,KAAKiC,iBAAiB,SAAUN","file":"03-feedback.51ba180f.js","sourceRoot":"../src","sourcesContent":["\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  email: document.forms[0].email,\n  message: document.forms[0].message,\n};\nconst STORAGE_KEY = 'feedback-form-state';\nconst populateInputs = function () {\n  const savedObject = localStorage.getItem(STORAGE_KEY);\n  if (savedObject) {\n    const parsedSavedObject = JSON.parse(savedObject);\n    if (Object.keys(parsedSavedObject).length === 2) {\n      refs.email.value = parsedSavedObject.email;\n      refs.message.value = parsedSavedObject.message;\n      return;\n    } else if (parsedSavedObject.email !== undefined) {\n      refs.email.value = parsedSavedObject.email;\n      return;\n    } else if (parsedSavedObject.message !== undefined) {\n      refs.message.value = parsedSavedObject.message;\n      return;\n    }\n  }\n}\npopulateInputs();\n\nconst saveInterimInStorage = event => {\n  const storageParams = {};\n  if (event.currentTarget.name === 'email') {\n  storageParams.email = event.currentTarget.value.trim();\n  } else {\n  storageParams.message = event.currentTarget.value.trim();\n  }\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(storageParams));\n};\nconst onFormSubmit = event => {\n  event.preventDefault();\n  localStorage.removeItem(STORAGE_KEY);\n  console.log('Данные формы отправлены');\n  event.currentTarget.reset();\n}\nrefs.email.addEventListener('input', saveInterimInStorage);\nrefs.message.addEventListener('input', saveInterimInStorage);\nrefs.form.addEventListener('submit', onFormSubmit);\n"]}